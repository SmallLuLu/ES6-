<!--
 * @Description: 
 * @Version: 2.0
 * @Autor: Luyh
 * @Date: 2020-08-10 09:17:20
 * @LastEditors: Luyh
 * @LastEditTime: 2020-08-17 16:03:25
-->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        function takeLongTime(n){
            return new Promise(resolve=>{
                setTimeout(() => {
                    resolve(n+200)
                }, n);
            })
        }
        function step1(n){
            console.log(`setp1 with ${n}`);
            return takeLongTime(n)
        }
        function step2(n){
            console.log(`step2 with ${n} `);
            return takeLongTime(n)
        }
        function step3(n){
            console.log(`step3 with ${n}`);
            return takeLongTime(n)
        }
        // function doIt(){
        //     console.log('doIt');
        //     const time1=300;
        //     step1(time1)
        //     .then(time2=>step2(time2))
        //     .then(time3=>step3(time3))
        //     .then(result=>{
        //         console.log(`result is ${result}`);
        //         console.timeEnd("doIt")
        //     })
        // }

        // doIt()

        async function doIt(){
            console.log("doIt");
            const time1=300;
            const time2= await step1(time1);
            const time3 =await step2(time2);
            const result =await step3(time3);
            console.log(`result is ${result}`);
        }
        doIt()



    </script>
</body>
</html>